(()=>{"use strict";function e(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function t(t){e(1,arguments);var n=Object.prototype.toString.call(t);return t instanceof Date||"object"==typeof t&&"[object Date]"===n?new Date(t.getTime()):"number"==typeof t||"[object Number]"===n?new Date(t):("string"!=typeof t&&"[object String]"!==n||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function n(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}(e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})})({});var o={};function s(){return o}function a(o,a){var r,c,d,l,i,u,m,p;e(1,arguments);var y=s(),k=n(null!==(r=null!==(c=null!==(d=null!==(l=null==a?void 0:a.weekStartsOn)&&void 0!==l?l:null==a||null===(i=a.locale)||void 0===i||null===(u=i.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==d?d:y.weekStartsOn)&&void 0!==c?c:null===(m=y.locale)||void 0===m||null===(p=m.options)||void 0===p?void 0:p.weekStartsOn)&&void 0!==r?r:0);if(!(k>=0&&k<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var v=t(o),h=v.getDay(),g=(h<k?7:0)+h-k;return v.setDate(v.getDate()-g),v.setHours(0,0,0,0),v}function r(t,n,o){e(2,arguments);var s=a(t,o),r=a(n,o);return s.getTime()===r.getTime()}class c{constructor(e){this.name=e,this.tasks=[]}setName(e){this.name=e}getName(){return this.name}setTasks(e){this.tasks=e}getTasks(){return this.tasks}addTask(e){this.tasks.find((t=>t.getName()===e))||this.tasks.push(e)}deleteTask(e){this.tasks=this.tasks.filter((t=>t.getName()!==e))}getTasksToday(){const e=(new Date).toLocaleDateString().split("/"),t=e[0],n=e[1],o=e[2];let s=o+"-"+t+"-"+n;parseInt(t)<10&&(s=o+"-0"+t+"-"+n);const a=this.tasks.filter((e=>e.getDate()===s));return a}getTasksWeek(){const n=this.tasks.filter((n=>function(t,n){return e(1,arguments),r(t,Date.now(),n)}(t(new Date(n.getDate())))));return n}getTasksImportant(){const e=this.tasks.filter((e=>"High"===e.getPriority()));return e}}class d{constructor(e,t,n,o){this.title=e,this.desc=t,this.dueDate=n,this.priority=o}setName(e){this.name=e}getName(){return this.name}setDate(e){this.dueDate=e}getDate(){return this.dueDate}getPriority(){return this.priority}}const l=document.querySelector(".newTask"),i=document.querySelector(".modal"),u=document.querySelector(".close"),m=document.querySelector(".modalForm"),p=document.querySelector(".projectModal"),y=document.querySelector(".closeProj");l.onclick=function(){m.reset(),i.style.display="block",p.style.display="none"},u.onclick=function(){i.style.display="none"},y.onclick=function(){p.style.display="none"},window.onclick=function(e){e.target==i&&(i.style.display="none")};let k=[];const v=new c("Inbox"),h=new c("Today"),g=new c("Upcoming"),S=new c("Important");k.push(v),k.push(h),k.push(g),k.push(S);let f=v;const q=document.querySelector("#all");q.addEventListener("click",(()=>{T(v,q)}));const E=document.querySelector("#today");E.addEventListener("click",(()=>{b(),T(h,E),document.querySelector(".newTask").style.display="none"}));const w=document.querySelector("#upcoming");w.addEventListener("click",(()=>{L(),T(g,w),document.querySelector(".newTask").style.display="none"}));const D=document.querySelector("#important");D.addEventListener("click",(()=>{C(),T(S,D),document.querySelector(".newTask").style.display="none"}));const T=(e,t)=>{document.querySelectorAll(".project").forEach((e=>{e.classList.remove("active")})),t.classList.add("active"),f=e,document.querySelector(".newTask").style.display="flex",document.querySelector(".tasks").textContent="",f.getTasks().forEach((e=>x(e.title,e.desc,e.dueDate,e.priority))),document.querySelector(".taskWrapTitle").textContent=f.getName()};document.querySelector(".modalForm").onsubmit=function(){event.preventDefault();const e=document.querySelector("#name").value,t=document.querySelector("#desc").value,n=document.querySelector("#due").value,o=document.querySelector("#urgent").value,s=new d(e,t,n,o);s.setName(e),f.addTask(s),x(e,t,n,o),i.style.display="none"};const b=()=>{h.tasks=[],k.forEach((e=>{e!==h&&e!==g&&e!==S&&e.getTasksToday().forEach((e=>{h.tasks.push(e)}))}))},L=()=>{g.tasks=[],k.forEach((e=>{e!==h&&e!==g&&e!==S&&e.getTasksWeek().forEach((e=>{g.tasks.push(e)}))}))},C=()=>{S.tasks=[],k.forEach((e=>{e!==h&&e!==g&&e!==S&&e.getTasksImportant().forEach((e=>{S.tasks.push(e)}))}))};document.querySelector("#addProject").addEventListener("click",(()=>{document.querySelector(".projectModal").style.display="flex"})),document.querySelector(".projForm").onsubmit=function(){event.preventDefault();const e=document.querySelector("#projName").value,t=new c(e);t.name=e,N(t,e);const n=document.getElementById(e.split(" ").join(""));n.addEventListener("click",(()=>{T(t,n)})),N(t,e),document.querySelector(".projectModal").style.display="none"};const N=(e,t)=>{k.find((t=>t.getName()===e.getName()))||(k.push(e),(e=>{const t=document.querySelector(".projectsDisplay"),n=document.createElement("button");n.classList.add("btnCustom"),n.classList.add("project"),n.id=e.split(" ").join("");const o=document.createElement("div");o.classList.add("btnTxt"),o.textContent=e;const s=document.createElement("button");s.textContent="X",s.classList.add("remove"),n.appendChild(o),n.appendChild(s),t.appendChild(n),s.addEventListener("click",(()=>{(()=>{const e=s.parentElement.firstChild,t=k.find((t=>t.getName()===e.textContent)),n=k.indexOf(t);n>-1&&k.splice(n,1)})(),s.parentElement.remove()}))})(t))},x=(e,t,n,o)=>{const s=document.querySelector(".tasks"),a=document.createElement("div");a.classList.add("taskBody"),s.appendChild(a);const r=document.createElement("div");r.classList.add("taskTitle");const c=document.createElement("div");c.classList.add("taskDesc");const d=document.createElement("div");d.classList.add("taskDue");const l=document.createElement("div");l.classList.add("taskPriority");const i=document.createElement("div");i.classList.add("editContainer");const u=document.createElement("button");u.classList.add("editTask"),u.addEventListener("click",(()=>{j(e,t,n,o)}));const m=document.createElement("img");m.classList.add("editImg"),m.src="./imgFont/edit.png",m.alt="edit";const p=document.createElement("button");p.classList.add("taskRemove"),p.textContent="X",p.addEventListener("click",(()=>{f.deleteTask(e),a.remove()}));const y=n.split("-").join("/");void 0===n.split("-")&&(y=n),r.textContent=e,c.textContent=t,l.textContent="Priority: "+o,"Low"===o&&(l.style.textDecoration="underline 3px solid green"),"Medium"===o&&(l.style.textDecoration="underline 3px solid yellow"),"High"===o&&(l.style.textDecoration="underline 3px solid red"),d.textContent=""===y?"Due On: Whenever":"Due On: "+y;const k=document.createElement("div");k.classList.add("wrapperTask"),k.appendChild(r),k.appendChild(i),i.appendChild(u),u.appendChild(m),i.appendChild(p);const v=document.createElement("div");v.classList.add("wrapperTask"),v.appendChild(c);const h=document.createElement("div");h.classList.add("wrapperTask"),h.appendChild(d),h.appendChild(l),a.appendChild(k),a.appendChild(v),a.appendChild(h)},j=(e,t,n,o)=>{const s=document.querySelector(".editModal");s.style.display="block",p.style.display="none";const a=document.querySelector(".editName"),r=document.querySelector(".editDesc"),c=document.querySelector(".editDate"),d=document.querySelector(".editPrio");a.value=e,r.value=t,c.value=n,d.value=o,document.querySelector(".editClose").addEventListener("click",(()=>{s.style.display="none"})),window.addEventListener("click",(e=>{e.target==s&&(s.style.display="none")})),document.querySelector(".modalEditForm").onsubmit=function(){event.preventDefault();const t=document.querySelector(".editName").value,n=document.querySelector(".editDesc").value,o=document.querySelector(".editDate").value,a=document.querySelector(".editPrio").value,r=f.tasks.filter((t=>t.getName()===e));console.log(r),r.title=t,r.desc=n,r.dueDate=o,r.priority=a,console.log(r),s.style.display="none"}}})();