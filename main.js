(()=>{"use strict";function e(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function t(t){e(1,arguments);var n=Object.prototype.toString.call(t);return t instanceof Date||"object"==typeof t&&"[object Date]"===n?new Date(t.getTime()):"number"==typeof t||"[object Number]"===n?new Date(t):("string"!=typeof t&&"[object String]"!==n||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function n(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}(e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})})({});var s={};function o(){return s}function a(s,a){var r,c,l,i,d,u,m,p;e(1,arguments);var y=o(),k=n(null!==(r=null!==(c=null!==(l=null!==(i=null==a?void 0:a.weekStartsOn)&&void 0!==i?i:null==a||null===(d=a.locale)||void 0===d||null===(u=d.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==l?l:y.weekStartsOn)&&void 0!==c?c:null===(m=y.locale)||void 0===m||null===(p=m.options)||void 0===p?void 0:p.weekStartsOn)&&void 0!==r?r:0);if(!(k>=0&&k<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=t(s),v=h.getDay(),g=(v<k?7:0)+v-k;return h.setDate(h.getDate()-g),h.setHours(0,0,0,0),h}function r(t,n,s){e(2,arguments);var o=a(t,s),r=a(n,s);return o.getTime()===r.getTime()}class c{constructor(e){this.name=e,this.tasks=[]}setName(e){this.name=e}getName(){return this.name}setTasks(e){this.tasks=e}getTasks(){return this.tasks}addTask(e){this.tasks.find((t=>t.getName()===e))||this.tasks.push(e)}deleteTask(e){this.tasks=this.tasks.filter((t=>t.getName()!==e))}getTasksToday(){const e=(new Date).toLocaleDateString().split("/"),t=e[0],n=e[1],s=e[2];let o=s+"-"+t+"-"+n;parseInt(t)<10&&(o=s+"-0"+t+"-"+n);const a=this.tasks.filter((e=>e.getDate()===o));return a}getTasksWeek(){const n=this.tasks.filter((n=>function(t,n){return e(1,arguments),r(t,Date.now(),n)}(t(new Date(n.getDate())))));return n}getTasksImportant(){const e=this.tasks.filter((e=>"High"===e.getPriority()));return e}}class l{constructor(e,t,n,s){this.title=e,this.desc=t,this.dueDate=n,this.priority=s}setName(e){this.name=e}getName(){return this.name}setDate(e){this.dueDate=e}getDate(){return this.dueDate}getPriority(){return this.priority}}const i=document.querySelector(".newTask"),d=document.querySelector(".modal"),u=document.querySelector(".close"),m=document.querySelector(".modalForm"),p=document.querySelector(".projectModal"),y=document.querySelector(".closeProj");i.onclick=function(){m.reset(),d.style.display="block",p.style.display="none"},u.onclick=function(){d.style.display="none"},y.onclick=function(){p.style.display="none"},window.onclick=function(e){e.target==d&&(d.style.display="none")};let k=[];const h=new c("Inbox"),v=new c("Today"),g=new c("Upcoming"),f=new c("Important");k.push(h),k.push(v),k.push(g),k.push(f);let S=h;const w=document.querySelector("#all");w.addEventListener("click",(()=>{D(h,w)}));const E=document.querySelector("#today");E.addEventListener("click",(()=>{b(),D(v,E),document.querySelector(".newTask").style.display="none"}));const T=document.querySelector("#upcoming");T.addEventListener("click",(()=>{L(),D(g,T),document.querySelector(".newTask").style.display="none"}));const q=document.querySelector("#important");q.addEventListener("click",(()=>{C(),D(f,q),document.querySelector(".newTask").style.display="none"}));const D=(e,t)=>{document.querySelectorAll(".project").forEach((e=>{e.classList.remove("active")})),t.classList.add("active"),S=e,document.querySelector(".newTask").style.display="flex",document.querySelector(".tasks").textContent="",S.getTasks().forEach((e=>j(e.title,e.desc,e.dueDate,e.priority))),document.querySelector(".taskWrapTitle").textContent=S.getName()};document.querySelector(".modalForm").onsubmit=function(){event.preventDefault();const e=document.querySelector("#name").value,t=document.querySelector("#desc").value,n=document.querySelector("#due").value,s=document.querySelector("#urgent").value,o=new l(e,t,n,s);o.setName(e),S.addTask(o),j(e,t,n,s),d.style.display="none"};const b=()=>{v.tasks=[],k.forEach((e=>{e!==v&&e!==g&&e!==f&&e.getTasksToday().forEach((e=>{v.tasks.push(e)}))}))},L=()=>{g.tasks=[],k.forEach((e=>{e!==v&&e!==g&&e!==f&&e.getTasksWeek().forEach((e=>{g.tasks.push(e)}))}))},C=()=>{f.tasks=[],k.forEach((e=>{e!==v&&e!==g&&e!==f&&e.getTasksImportant().forEach((e=>{f.tasks.push(e)}))}))};document.querySelector("#addProject").addEventListener("click",(()=>{document.querySelector(".projectModal").style.display="flex"})),document.querySelector(".projForm").onsubmit=function(){event.preventDefault();const e=document.querySelector("#projName").value,t=new c(e);t.name=e,x(t,e);const n=document.getElementById(e.split(" ").join(""));n.addEventListener("click",(()=>{D(t,n)})),x(t,e),document.querySelector(".projectModal").style.display="none"};const x=(e,t)=>{k.find((t=>t.getName()===e.getName()))||(k.push(e),(e=>{const t=document.querySelector(".projectsDisplay"),n=document.createElement("button");n.classList.add("btnCustom"),n.classList.add("project"),n.id=e.split(" ").join("");const s=document.createElement("div");s.classList.add("btnTxt"),s.textContent=e;const o=document.createElement("button");o.textContent="X",o.classList.add("remove"),n.appendChild(s),n.appendChild(o),t.appendChild(n),o.addEventListener("click",(()=>{(()=>{const e=o.parentElement.firstChild,t=k.find((t=>t.getName()===e.textContent)),n=k.indexOf(t);n>-1&&k.splice(n,1)})(),o.parentElement.remove()}))})(t))},j=(e,t,n,s)=>{const o=document.querySelector(".tasks"),a=document.createElement("div");a.classList.add("taskBody"),o.appendChild(a);const r=document.createElement("div");r.classList.add("taskTitle");const c=document.createElement("div");c.classList.add("taskDesc");const l=document.createElement("div");l.classList.add("taskDue");const i=document.createElement("div");i.classList.add("taskPriority");const d=document.createElement("button");d.classList.add("taskRemove"),d.textContent="X",d.addEventListener("click",(()=>{S.deleteTask(e),a.remove()}));const u=n.split("-").join("/");void 0===n.split("-")&&(u=n),r.textContent=e,c.textContent=t,i.textContent="Priority: "+s,"Low"===s&&(i.style.textDecoration="underline 3px solid green"),"Medium"===s&&(i.style.textDecoration="underline 3px solid yellow"),"High"===s&&(i.style.textDecoration="underline 3px solid red"),l.textContent=""===u?"Due On: Whenever":"Due On: "+u;const m=document.createElement("div");m.classList.add("wrapperTask"),m.appendChild(r),m.appendChild(d);const p=document.createElement("div");p.classList.add("wrapperTask"),p.appendChild(c);const y=document.createElement("div");y.classList.add("wrapperTask"),y.appendChild(l),y.appendChild(i),a.appendChild(m),a.appendChild(p),a.appendChild(y)}})();