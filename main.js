(()=>{"use strict";(e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})})({});class e{constructor(e){this.name=e,this.tasks=[]}setName(e){this.name=e}getName(){return this.name}setTasks(e){this.tasks=e}getTasks(){return this.tasks}addTask(e){this.tasks.find((t=>t.getName()===e))||this.tasks.push(e)}deleteTask(e){this.tasks=this.tasks.filter((t=>t.getName()!==e))}}class t{constructor(e,t,n,o){this.title=e,this.desc=t,this.dueDate=n,this.priority=o}setName(e){this.name=e}getName(){return this.name}setDate(e){this.dueDate=e}getDate(){return this.dueDate}}function n(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function o(e){n(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function s(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}var a={};function r(){return a}function c(e,t){var a,c,l,d,i,u,m,p;n(1,arguments);var y=r(),k=s(null!==(a=null!==(c=null!==(l=null!==(d=null==t?void 0:t.weekStartsOn)&&void 0!==d?d:null==t||null===(i=t.locale)||void 0===i||null===(u=i.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==l?l:y.weekStartsOn)&&void 0!==c?c:null===(m=y.locale)||void 0===m||null===(p=m.options)||void 0===p?void 0:p.weekStartsOn)&&void 0!==a?a:0);if(!(k>=0&&k<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=o(e),v=h.getDay(),g=(v<k?7:0)+v-k;return h.setDate(h.getDate()-g),h.setHours(0,0,0,0),h}function l(e,t,o){n(2,arguments);var s=c(e,o),a=c(t,o);return s.getTime()===a.getTime()}const d=document.querySelector(".newTask"),i=document.querySelector(".modal"),u=document.querySelector(".close"),m=document.querySelector(".modalForm"),p=document.querySelector(".projectModal"),y=document.querySelector(".closeProj");d.onclick=function(){m.reset(),i.style.display="block",p.style.display="none"},u.onclick=function(){i.style.display="none"},y.onclick=function(){p.style.display="none"},window.onclick=function(e){e.target==i&&(i.style.display="none")};let k=[];const h=new e("Inbox"),v=new e("Today"),g=new e("Upcoming"),f=new e("Important");k.push(h),k.push(v),k.push(g),k.push(f);let S=h;const w=document.querySelector("#all");w.addEventListener("click",(()=>{D(h,w)}));const E=document.querySelector("#today");E.addEventListener("click",(()=>{D(v,E),document.querySelector(".newTask").style.display="none",b()}));const T=document.querySelector("#upcoming");T.addEventListener("click",(()=>{D(g,T),document.querySelector(".newTask").style.display="none",L()}));const q=document.querySelector("#important");q.addEventListener("click",(()=>{D(f,q),document.querySelector(".newTask").style.display="none",C()}));const D=(e,t)=>{document.querySelectorAll(".project").forEach((e=>{e.classList.remove("active")})),t.classList.add("active"),S=e,document.querySelector(".newTask").style.display="flex",document.querySelector(".tasks").textContent="",S.getTasks().forEach((e=>x(e.title,e.desc,e.dueDate,e.priority))),document.querySelector(".taskWrapTitle").textContent=S.getName()};document.querySelector(".modalForm").onsubmit=function(){event.preventDefault();const e=document.querySelector("#name").value,n=document.querySelector("#desc").value,o=document.querySelector("#due").value,s=document.querySelector("#urgent").value,a=new t(e,n,o,s);a.setName(e),S.addTask(a),x(e,n,o,s),i.style.display="none"};const b=()=>{v.setTasks(""),k.forEach((e=>{if(e===v||e===g||e===f)return;const t=e.tasks;console.log(t),t.forEach((e=>{const t=(new Date).toLocaleDateString().split("/"),n=t[0],o=t[1],s=t[2];let a=s+"-"+n+"-"+o;parseInt(n)<10&&(a=s+"-0"+n+"-"+o),e.getDate()===a&&v.addTask(e)}))}))},L=()=>{g.setTasks(""),k.forEach((e=>{"Today"!==e.getName()&&"Upcoming"!==e.getName()&&"Important"!==e.getName()&&e.tasks.forEach((e=>{var t;t=e.getDate(),function(e,t){return n(1,arguments),l(e,Date.now(),t)}(o(new Date(t)))&&g.addTask(e)}))}))},C=()=>{f.setTasks(""),k.forEach((e=>{e!==v&&e!==g&&e!==f&&e.tasks.forEach((e=>{"High"===e.priority&&f.addTask(e)}))}))};document.querySelector("#addProject").addEventListener("click",(()=>{document.querySelector(".projectModal").style.display="flex"})),document.querySelector(".projForm").onsubmit=function(){event.preventDefault();const t=document.querySelector("#projName").value,n=new e(t);n.name=t,N(n,t);const o=document.getElementById(t.split(" ").join(""));o.addEventListener("click",(()=>{D(n,o)})),N(n,t),console.log(k),document.querySelector(".projectModal").style.display="none"};const N=(e,t)=>{k.find((t=>t.getName()===e.getName()))||(k.push(e),(e=>{const t=document.querySelector(".projectsDisplay"),n=document.createElement("button");n.classList.add("btnCustom"),n.classList.add("project"),n.id=e.split(" ").join("");const o=document.createElement("div");o.classList.add("btnTxt"),o.textContent=e;const s=document.createElement("button");s.textContent="X",s.classList.add("remove"),n.appendChild(o),n.appendChild(s),t.appendChild(n),s.addEventListener("click",(()=>{(()=>{const e=s.parentElement.firstChild,t=k.find((t=>t.getName()===e.textContent)),n=k.indexOf(t);n>-1&&k.splice(n,1)})(),s.parentElement.remove()}))})(t))},x=(e,t,n,o)=>{const s=document.querySelector(".tasks"),a=document.createElement("div");a.classList.add("taskBody"),s.appendChild(a);const r=document.createElement("div");r.classList.add("taskTitle");const c=document.createElement("div");c.classList.add("taskDesc");const l=document.createElement("div");l.classList.add("taskDue");const d=document.createElement("div");d.classList.add("taskPriority");const i=document.createElement("button");i.classList.add("taskRemove"),i.textContent="X",i.addEventListener("click",(()=>{S.deleteTask(e),a.remove()}));const u=n.split("-").join("/");r.textContent=e,c.textContent=t,d.textContent="Priority: "+o,"Low"===o&&(d.style.textDecoration="underline 3px solid green"),"Medium"===o&&(d.style.textDecoration="underline 3px solid yellow"),"High"===o&&(d.style.textDecoration="underline 3px solid red"),l.textContent=""===u?"Due On: Whenever":"Due On: "+u;const m=document.createElement("div");m.classList.add("wrapperTask"),m.appendChild(r),m.appendChild(i);const p=document.createElement("div");p.classList.add("wrapperTask"),p.appendChild(c);const y=document.createElement("div");y.classList.add("wrapperTask"),y.appendChild(l),y.appendChild(d),a.appendChild(m),a.appendChild(p),a.appendChild(y)}})();