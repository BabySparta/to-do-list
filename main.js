(()=>{"use strict";(e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})})({});class e{constructor(e){this.name=e,this.tasks=[]}setName(e){this.name=e}getName(){return this.name}setTasks(e){this.tasks=e}getTasks(){return this.tasks}addTask(e){this.tasks.find((t=>t.getName()===e))||this.tasks.push(e)}deleteTask(e){this.tasks=this.tasks.filter((t=>t.getName()!==e))}}class t{constructor(e,t,n,s){this.title=e,this.desc=t,this.dueDate=n,this.priority=s}setName(e){this.name=e}getName(){return this.name}setDate(e){this.dueDate=e}getDate(){return this.dueDate}}const n=document.querySelector(".newTask"),s=document.querySelector(".modal"),o=document.querySelector(".close"),c=document.querySelector(".modalForm"),a=document.querySelector(".projectModal"),d=document.querySelector(".closeProj");n.onclick=function(){c.reset(),s.style.display="block",a.style.display="none"},o.onclick=function(){s.style.display="none"},d.onclick=function(){a.style.display="none"},window.onclick=function(e){e.target==s&&(s.style.display="none")};let l=[];const r=new e("Inbox"),i=new e("Today"),u=new e("Upcoming"),m=new e("Important");l.push(r),l.push(i),l.push(u),l.push(m);let p=r;const y=document.querySelector("#all");y.addEventListener("click",(()=>{S(r,y)}));const k=document.querySelector("#today");k.addEventListener("click",(()=>{S(i,k),document.querySelector(".newTask").style.display="none"}));const h=document.querySelector("#upcoming");h.addEventListener("click",(()=>{S(u,h),document.querySelector(".newTask").style.display="none"}));const v=document.querySelector("#important");v.addEventListener("click",(()=>{S(m,v),document.querySelector(".newTask").style.display="none"}));const S=(e,t)=>{document.querySelectorAll(".project").forEach((e=>{e.classList.remove("active")})),t.classList.add("active"),p=e,document.querySelector(".newTask").style.display="flex",document.querySelector(".tasks").textContent="",p.getTasks().forEach((e=>D(e.title,e.desc,e.dueDate,e.priority))),document.querySelector(".taskWrapTitle").textContent=p.getName()};document.querySelector(".modalForm").onsubmit=function(){event.preventDefault();const e=document.querySelector("#name").value,n=document.querySelector("#desc").value,o=document.querySelector("#due").value,c=document.querySelector("#urgent").value,a=new t(e,n,o,c);a.setName(e),p.addTask(a),g(o,a,c),D(e,n,o,c),s.style.display="none"};const g=(e,t,n)=>{const s=(new Date).toLocaleDateString().split("/"),o=s[0],c=s[1],a=s[2];let d=a+"-"+o+"-"+c;parseInt(o)<10&&(d=a+"-0"+o+"-"+c),console.log(i),console.log(e),e===d&&i.addTask(t),function(e){const t=new Date,n=t.getDate(),s=t.getDay(),o=new Date(t.setDate(n-s)),c=new Date(o);return c.setDate(c.getDate()+6),e>=o&&e<=c}(e)&&u.addTask(t),"High"===n&&m.addTask(t)};document.querySelector("#addProject").addEventListener("click",(()=>{document.querySelector(".projectModal").style.display="flex"})),document.querySelector(".projForm").onsubmit=function(){event.preventDefault();const t=document.querySelector("#projName").value,n=new e(t);n.name=t,q(n,t);const s=document.getElementById(t.split(" ").join(""));s.addEventListener("click",(()=>{S(n,s)})),q(n,t),console.log(l),document.querySelector(".projectModal").style.display="none"};const q=(e,t)=>{l.find((t=>t.getName()===e.getName()))||(l.push(e),(e=>{const t=document.querySelector(".projectsDisplay"),n=document.createElement("button");n.classList.add("btnCustom"),n.classList.add("project"),n.id=e.split(" ").join("");const s=document.createElement("div");s.classList.add("btnTxt"),s.textContent=e;const o=document.createElement("button");o.textContent="X",o.classList.add("remove"),n.appendChild(s),n.appendChild(o),t.appendChild(n),o.addEventListener("click",(()=>{(()=>{const e=o.parentElement.firstChild,t=l.find((t=>t.getName()===e.textContent)),n=l.indexOf(t);n>-1&&l.splice(n,1)})(),o.parentElement.remove()}))})(t))},D=(e,t,n,s)=>{const o=document.querySelector(".tasks"),c=document.createElement("div");c.classList.add("taskBody"),o.appendChild(c);const a=document.createElement("div");a.classList.add("taskTitle");const d=document.createElement("div");d.classList.add("taskDesc");const l=document.createElement("div");l.classList.add("taskDue");const r=document.createElement("div");r.classList.add("taskPriority");const i=document.createElement("button");i.classList.add("taskRemove"),i.textContent="X",i.addEventListener("click",(()=>{p.deleteTask(e),c.remove()}));const u=n.split("-").join("/");a.textContent=e,d.textContent=t,r.textContent="Priority: "+s,"Low"===s&&(r.style.textDecoration="underline 3px solid green"),"Medium"===s&&(r.style.textDecoration="underline 3px solid yellow"),"High"===s&&(r.style.textDecoration="underline 3px solid red"),l.textContent=""===u?"Due On: Whenever":"Due On: "+u;const m=document.createElement("div");m.classList.add("wrapperTask"),m.appendChild(a),m.appendChild(i);const y=document.createElement("div");y.classList.add("wrapperTask"),y.appendChild(d);const k=document.createElement("div");k.classList.add("wrapperTask"),k.appendChild(l),k.appendChild(r),c.appendChild(m),c.appendChild(y),c.appendChild(k)}})();