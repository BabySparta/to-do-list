(()=>{"use strict";function e(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function t(t){e(1,arguments);var n=Object.prototype.toString.call(t);return t instanceof Date||"object"==typeof t&&"[object Date]"===n?new Date(t.getTime()):"number"==typeof t||"[object Number]"===n?new Date(t):("string"!=typeof t&&"[object String]"!==n||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function n(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}(e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})})({});var o={};function s(){return o}function a(o,a){var r,c,l,d,i,u,m,p;e(1,arguments);var y=s(),k=n(null!==(r=null!==(c=null!==(l=null!==(d=null==a?void 0:a.weekStartsOn)&&void 0!==d?d:null==a||null===(i=a.locale)||void 0===i||null===(u=i.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==l?l:y.weekStartsOn)&&void 0!==c?c:null===(m=y.locale)||void 0===m||null===(p=m.options)||void 0===p?void 0:p.weekStartsOn)&&void 0!==r?r:0);if(!(k>=0&&k<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=t(o),h=g.getDay(),v=(h<k?7:0)+h-k;return g.setDate(g.getDate()-v),g.setHours(0,0,0,0),g}function r(t,n,o){e(2,arguments);var s=a(t,o),r=a(n,o);return s.getTime()===r.getTime()}class c{constructor(e){this.name=e,this.tasks=[]}setName(e){this.name=e}getName(){return this.name}setTasks(e){this.tasks=e}getTasks(){return this.tasks}addTask(e){this.tasks.find((t=>t.getName()===e))||this.tasks.push(e)}deleteTask(e){this.tasks=this.tasks.filter((t=>t.getName()!==e))}getTasksToday(){const e=(new Date).toLocaleDateString().split("/"),t=e[0],n=e[1],o=e[2];let s=o+"-"+t+"-"+n;parseInt(t)<10&&(s=o+"-0"+t+"-"+n);const a=this.tasks.filter((e=>e.getDate()===s));return a}getTasksWeek(){const n=this.tasks.filter((n=>function(t,n){return e(1,arguments),r(t,Date.now(),n)}(t(new Date(n.getDate())))));return n}getTasksImportant(){const e=this.tasks.filter((e=>"High"===e.getPriority()));return e}}class l{constructor(e,t,n,o){this.title=e,this.desc=t,this.dueDate=n,this.priority=o}setName(e){this.name=e}getName(){return this.name}setDate(e){this.dueDate=e}getDate(){return this.dueDate}getPriority(){return this.priority}}const d=document.querySelector(".newTask"),i=document.querySelector(".modal"),u=document.querySelector(".close"),m=document.querySelector(".modalForm"),p=document.querySelector(".projectModal"),y=document.querySelector(".closeProj");d.onclick=function(){m.reset(),i.style.display="block",p.style.display="none"},u.onclick=function(){i.style.display="none"},y.onclick=function(){p.style.display="none"},window.onclick=function(e){e.target==i&&(i.style.display="none")};let k=[];const g=new c("Inbox"),h=new c("Today"),v=new c("Upcoming"),S=new c("Important");k.push(g),k.push(h),k.push(v),k.push(S);let f=g;const E=document.querySelector("#all");E.addEventListener("click",(()=>{b(g,E)}));const q=document.querySelector("#today");q.addEventListener("click",(()=>{L(),b(h,q),document.querySelector(".newTask").style.display="none"}));const w=document.querySelector("#upcoming");w.addEventListener("click",(()=>{C(),b(v,w),document.querySelector(".newTask").style.display="none"}));const D=document.querySelector("#important");D.addEventListener("click",(()=>{N(),b(S,D),document.querySelector(".newTask").style.display="none"}));const b=(e,t)=>{document.querySelectorAll(".project").forEach((e=>{e.classList.remove("active")})),t.classList.add("active"),f=e,document.querySelector(".newTask").style.display="flex",document.querySelector(".tasks").textContent="",f.tasks.forEach((e=>j(e.title,e.desc,e.dueDate,e.priority))),document.querySelector(".taskWrapTitle").textContent=f.getName()},T=e=>{const t=document.querySelector(".projectsDisplay"),n=document.createElement("button");n.classList.add("btnCustom"),n.classList.add("project"),n.id=e.split(" ").join("");const o=document.createElement("div");o.classList.add("btnTxt"),o.textContent=e;const s=document.createElement("button");s.textContent="X",s.classList.add("remove"),n.appendChild(o),n.appendChild(s),t.appendChild(n),s.addEventListener("click",(()=>{(()=>{const e=s.parentElement.firstChild,t=k.find((t=>t.getName()===e.textContent)),n=k.indexOf(t);n>-1&&k.splice(n,1)})(),s.parentElement.remove(),I(k)})),I(k)};document.querySelector(".modalForm").onsubmit=function(){event.preventDefault();const e=document.querySelector("#name").value,t=document.querySelector("#desc").value,n=document.querySelector("#due").value,o=document.querySelector("#urgent").value,s=new l(e,t,n,o);s.setName(e),f.addTask(s),j(e,t,n,o),i.style.display="none",console.log(f.tasks),I(k)};const L=()=>{h.tasks=[],k.forEach((e=>{e!==h&&e!==v&&e!==S&&e.getTasksToday().forEach((e=>{h.tasks.push(e)}))}))},C=()=>{v.tasks=[],k.forEach((e=>{e!==h&&e!==v&&e!==S&&e.getTasksWeek().forEach((e=>{v.tasks.push(e)}))}))},N=()=>{S.tasks=[],k.forEach((e=>{e!==h&&e!==v&&e!==S&&e.getTasksImportant().forEach((e=>{S.tasks.push(e)}))}))};document.querySelector("#addProject").addEventListener("click",(()=>{document.querySelector(".projectModal").style.display="flex"})),document.querySelector(".projForm").onsubmit=function(){event.preventDefault();const e=document.querySelector("#projName").value,t=new c(e);t.name=e,x(t,e);const n=document.getElementById(e.split(" ").join(""));n.addEventListener("click",(()=>{b(t,n)})),x(t,e),document.querySelector(".projectModal").style.display="none",I(k)};const x=(e,t)=>{k.find((t=>t.getName()===e.getName()))||(k.push(e),T(t))},j=(e,t,n,o)=>{console.log("hi");const s=document.querySelector(".tasks"),a=document.createElement("div");a.classList.add("taskBody"),s.appendChild(a);const r=document.createElement("div");r.classList.add("taskTitle");const c=document.createElement("div");c.classList.add("taskDesc");const l=document.createElement("div");l.classList.add("taskDue");const d=document.createElement("div");d.classList.add("taskPriority");const i=document.createElement("div");i.classList.add("editContainer");const u=document.createElement("button");u.classList.add("editTask"),u.addEventListener("click",(()=>{O(e,t,n,o)}));const m=document.createElement("img");m.classList.add("editImg"),m.src="./imgFont/edit.png",m.alt="edit";const p=document.createElement("button");p.classList.add("taskRemove"),p.textContent="X",p.addEventListener("click",(()=>{f.deleteTask(e),a.remove()}));const y=n.split("-").join("/");void 0===n.split("-")&&(y=n),console.log("hi"),r.textContent=e,c.textContent=t,d.textContent="Priority: "+o,"Low"===o&&(d.style.textDecoration="underline 3px solid green"),"Medium"===o&&(d.style.textDecoration="underline 3px solid yellow"),"High"===o&&(d.style.textDecoration="underline 3px solid red"),l.textContent=""===y?"Due On: Whenever":"Due On: "+y,console.log("hi");const k=document.createElement("div");k.classList.add("wrapperTask"),k.appendChild(r),k.appendChild(i),i.appendChild(u),u.appendChild(m),i.appendChild(p);const g=document.createElement("div");g.classList.add("wrapperTask"),g.appendChild(c);const h=document.createElement("div");h.classList.add("wrapperTask"),h.appendChild(l),h.appendChild(d),console.log("hi"),a.appendChild(k),a.appendChild(g),a.appendChild(h)},O=(e,t,n,o)=>{const s=document.querySelector(".editModal");s.style.display="block",p.style.display="none";const a=document.querySelector(".editName"),r=document.querySelector(".editDesc"),c=document.querySelector(".editDate"),l=document.querySelector(".editPrio");a.value=e,r.value=t,c.value=n,l.value=o,document.querySelector(".editClose").addEventListener("click",(()=>{s.style.display="none"})),window.addEventListener("click",(e=>{e.target==s&&(s.style.display="none")})),document.querySelector(".modalEditForm").onsubmit=function(){event.preventDefault();const t=document.querySelector(".editName").value,n=document.querySelector(".editDesc").value,o=document.querySelector(".editDate").value,a=document.querySelector(".editPrio").value,r=f.tasks.filter((t=>t.getName()===e))[0];r.title=t,r.desc=n,r.dueDate=o,r.priority=a,r.setName(t),document.querySelector(".tasks").textContent="",f.tasks.forEach((e=>{j(e.title,e.desc,e.dueDate,e.priority)})),s.style.display="none",L(),C(),N(),I(k)}},I=e=>{localStorage.setItem("projects",JSON.stringify(e))};(()=>{const e=JSON.parse(localStorage.getItem("projects"));k=e;const t=e.filter((e=>"Inbox"===e.name))[0];e.forEach((e=>{"Today"!==e.name&&"Upcoming"!==e.name&&"Important"!==e.name&&"Inbox"!==e.name&&T(e.name)})),console.log(t),t.tasks.forEach((e=>{console.log("hi"),j(e.title,e.desc,e.dueDate,e.priority)}))})(),window.addEventListener("dragend",(()=>{console.log(JSON.parse(localStorage.getItem("projects"))),console.log(k)}))})();